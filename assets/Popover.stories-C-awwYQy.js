import{G as $}from"./PhCaretRight.vue-DFoW08qR.js";import{d as j,k as B,b as z,E as d,F as v,x as u,H as k,z as r,m as F,y,o as s,r as N,c as g,I as M,e as H,D as E,f as S,u as A,C as V}from"./iframe-DQV88x5-.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{A as G,a as q,M as J}from"./index-D0zWI8b0.js";import{e as Q,u as U,_ as p,k as X,P as W,f as I}from"./useConfigInject-CWOn-uB3.js";import{A as Y,t as Z,a as ee}from"./index-qjP7QvmT.js";import{o as te}from"./omit-DlV-oHuu.js";import{i as ae}from"./initDefaultProps-ChAlt6Lu.js";import"./shallowequal-zJ1TEHFM.js";import"./Trigger-0TZR2ENF.js";import"./Portal-xCLlsZ5r.js";import"./raf-nDFcuFT6.js";import"./vnode-CmlAgSz6.js";import"./Overflow-D5Jtgjfh.js";import"./index-Bs9FcUHW.js";import"./KeyCode-BcWn9RBx.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./colors-Dr9pYJPq.js";var ne=function(){return p(p({},ee()),{},{content:W.any,title:W.any})},oe=j({compatConfig:{MODE:3},name:"APopover",props:ae(ne(),p(p({},Z()),{},{trigger:"hover",transitionName:"zoom-big",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup:function(t,o){var w=o.expose,c=o.slots,l=B();w({getPopupDomNode:function(){var n,i;return(n=l.value)===null||n===void 0||(i=n.getPopupDomNode)===null||i===void 0?void 0:i.call(n)}});var h=U("popover",t),m=h.prefixCls,_=h.configProvider,C=z(function(){return _.getPrefixCls()}),b=function(){var n,i,D=t.title,f=D===void 0?I((n=c.title)===null||n===void 0?void 0:n.call(c)):D,K=t.content,x=K===void 0?I((i=c.content)===null||i===void 0?void 0:i.call(c)):K,O=!!(Array.isArray(f)?f.length:f),R=!!(Array.isArray(x)?x.length:f);if(!(!O&&!R))return d(v,null,[O&&d("div",{class:"".concat(m.value,"-title")},[f]),d("div",{class:"".concat(m.value,"-inner-content")},[x])])};return function(){return d(Y,p(p({},te(t,["title","content"])),{},{prefixCls:m.value,ref:l,transitionName:X(C.value,"zoom-big",t.transitionName)}),{title:b,default:c.default})}}});const re=Q(oe),T={components:{APopover:re,AMenu:J,AMenuItem:q,ASubMenu:G,PhCaretRight:$},props:{options:{type:Array,default:()=>[]},sKey:{type:String,default:"key"},sValue:{type:String,default:"value"},maxHeight:{type:[Number,String],default:void 0},minWidth:{type:[Number,String],default:void 0},overlayStyle:{type:Object,default:()=>({})},useArrow:{type:Boolean,default:!1},overlayClassName:{type:String,default:""}},emits:["click-item","click-menu"],computed:{optionsMark(){return this.handleOptions(this.options)},overlayStyleMark(){const e={};return this.maxHeight&&(e["--max-height"]=typeof this.maxHeight=="number"?`${this.maxHeight}px`:this.maxHeight),this.minWidth&&(e["--min-width"]=typeof this.minWidth=="number"?`${this.minWidth}px`:this.minWidth,e["min-width"]="var(--min-width)"),{...e,...this.overlayStyle}}},methods:{handleClick(e){e?.onclick&&e.onclick({value:this.value,option:e}),this.$emit("click-item",e)},handleOptions(e){return e.map(t=>{if(t?.icon)switch(t.icon){case"link":t.icon="PhLink";break;case"edit":case"pencil":t.icon="PhPencilSimple";break;case"remove":case"trash":case"delete":t.icon="PhTrash";break;case"eye":t.icon="PhEye";break;case"eye-slash":t.icon="PhEyeSlash";break}return t.children&&(t.children=this.handleOptions(t.children)),t})},handleClickMenu(e){this.$emit("click-menu",e)}}};function se(e,t,o,w,c,l){const h=y("PhCaretRight"),m=y("a-menu-item"),_=y("a-sub-menu"),C=y("a-menu"),b=y("a-popover");return s(),u(b,F(e.$attrs,{class:["popover-design"],"overlay-class-name":`popover-design-overlay ${o.useArrow?"use-arrow":""} ${o.overlayClassName}`,"overlay-style":l.overlayStyleMark}),k({default:r(()=>[N(e.$slots,"default")]),_:2},[e.$slots.title?{name:"title",fn:r(()=>[N(e.$slots,"title")]),key:"0"}:void 0,e.$slots.content?{name:"content",fn:r(()=>[N(e.$slots,"content",{},()=>[d(C,{onClick:l.handleClickMenu},{default:r(()=>[(s(!0),g(v,null,M(l.optionsMark,a=>(s(),g(v,{key:a[o.sKey]},[!a.is_hidden&&a?.children?.length>0?(s(),u(_,{key:a[o.sKey],"popup-class-name":"dropdown-design-submenu"},k({title:r(()=>[S("span",null,A(a[o.sValue]||a[o.sKey]),1)]),expandIcon:r(()=>[d(h)]),default:r(()=>[(s(!0),g(v,null,M(a?.children,n=>(s(),g(v,{key:n[o.sKey]},[n.is_hidden?H("",!0):(s(),u(m,{key:n[o.sKey],class:"dropdown-design-item",onClick:E(()=>l.handleClick(n),["stop"])},k({default:r(()=>[S("span",null,A(n[o.sValue]||n[o.sKey]),1)]),_:2},[n?.icon?{name:"icon",fn:r(()=>[(s(),u(V(n?.icon)))]),key:"0"}:void 0]),1032,["onClick"]))],64))),128))]),_:2},[a?.icon?{name:"icon",fn:r(()=>[(s(),u(V(a?.icon)))]),key:"0"}:void 0]),1024)):a.is_hidden?H("",!0):(s(),u(m,{key:a[o.sKey],class:"dropdown-design-item",onClick:E(()=>l.handleClick(a),["stop"])},k({default:r(()=>[S("span",null,A(a[o.sValue]||a[o.sKey]),1)]),_:2},[a?.icon?{name:"icon",fn:r(()=>[(s(),u(V(a?.icon)))]),key:"0"}:void 0]),1032,["onClick"]))],64))),128))]),_:1},8,["onClick"])])]),key:"1"}:void 0]),1040,["overlay-class-name","overlay-style"])}const le=L(T,[["render",se]]);T.__docgenInfo={exportName:"default",displayName:"Popover",description:"",tags:{},props:[{name:"options",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"sKey",type:{name:"string"},defaultValue:{func:!1,value:"'key'"}},{name:"sValue",type:{name:"string"},defaultValue:{func:!1,value:"'value'"}},{name:"maxHeight",type:{name:"number|string"},defaultValue:{func:!1,value:"undefined"}},{name:"minWidth",type:{name:"number|string"},defaultValue:{func:!1,value:"undefined"}},{name:"overlayStyle",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"useArrow",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"overlayClassName",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"click-item",type:{names:["undefined"]}},{name:"click-menu",type:{names:["undefined"]}}],slots:[{name:"title"},{name:"content"},{name:"default"}],sourceFiles:["/home/runner/work/storecake_components/storecake_components/src/components/Popover.vue"]};const Se={title:"Data Display/Popover",component:le,tags:["autodocs"],argTypes:{options:{control:"array",description:"Property options of the Popover"},sKey:{control:"text",description:"Select a property of option is Key"},sValue:{control:"text",description:"Select a property of option is Value"},maxHeight:{control:"number",description:"Property maxHeight of the Popover"},minWidth:{control:"number",description:"Property minWidth of the Popover"},overlayStyle:{control:"text",description:"Property overlayStyle of the Popover"},useArrow:{control:"boolean",description:"Property useArrow of the Popover"},overlayClassName:{control:"text",description:"Property overlayClassName of the Popover"}},args:{sKey:"key",sValue:"value",useArrow:!1,overlayClassName:""}},P={args:{options:[{key:"1",value:"Option 1"},{key:"2",value:"Option 2"},{key:"3",value:"Option 3"}],sKey:"key",sValue:"value",useArrow:!1,overlayClassName:""}};P.parameters={...P.parameters,docs:{...P.parameters?.docs,source:{originalSource:`{
  args: {
    options: [{
      key: '1',
      value: 'Option 1'
    }, {
      key: '2',
      value: 'Option 2'
    }, {
      key: '3',
      value: 'Option 3'
    }],
    sKey: 'key',
    sValue: 'value',
    useArrow: false,
    overlayClassName: ''
  }
}`,...P.parameters?.docs?.source}}};const Ae=["Default"];export{P as Default,Ae as __namedExportsOrder,Se as default};
