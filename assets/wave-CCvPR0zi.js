import{j as H,z as U,L as V,q as R,p as q}from"./iframe-DC2Z_nKe.js";import{w as O}from"./raf-nDFcuFT6.js";import{u as F,c as W}from"./useConfigInject-DzPqp462.js";var N={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},h={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},d=[],f=[];function G(){var a=document.createElement("div"),n=a.style;"AnimationEvent"in window||(delete N.animationstart.animation,delete h.animationend.animation),"TransitionEvent"in window||(delete N.transitionstart.transition,delete h.transitionend.transition);function e(r,p){for(var m in r)if(r.hasOwnProperty(m)){var l=r[m];for(var u in l)if(u in n){p.push(l[u]);break}}}e(N,d),e(h,f)}typeof window<"u"&&typeof document<"u"&&G();function I(a,n,e){a.addEventListener(n,e,!1)}function P(a,n,e){a.removeEventListener(n,e,!1)}var g={startEvents:d,addStartEventListener:function(n,e){if(d.length===0){setTimeout(e,0);return}d.forEach(function(r){I(n,r,e)})},removeStartEventListener:function(n,e){d.length!==0&&d.forEach(function(r){P(n,r,e)})},endEvents:f,addEndEventListener:function(n,e){if(f.length===0){setTimeout(e,0);return}f.forEach(function(r){I(n,r,e)})},removeEndEventListener:function(n,e){f.length!==0&&f.forEach(function(r){P(n,r,e)})}},c;function j(a){return!a||a.offsetParent===null}function _(a){var n=(a||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}const X=H({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(n,e){var r=e.slots,p=e.expose,m=q(),l=F("",n),u=l.csp,v=l.prefixCls;p({csp:u});var A=null,x=null,y=null,S=!1,s=null,w=!1,M=function(t){if(!w){var i=W(m);!t||t.target!==i||S||k(i)}},C=function(t){!t||t.animationName!=="fadeEffect"||k(t.target)},z=function(){var t=n.insertExtraNode;return t?"".concat(v.value,"-click-animating"):"".concat(v.value,"-click-animating-without-extra-node")},B=function(t,i){var E=n.insertExtraNode,T=n.disabled;if(!(T||!t||j(t)||t.className.indexOf("-leave")>=0)){s=document.createElement("div"),s.className="".concat(v.value,"-click-animating-node");var b=z();if(t.removeAttribute(b),t.setAttribute(b,"true"),c=c||document.createElement("style"),i&&i!=="#ffffff"&&i!=="rgb(255, 255, 255)"&&_(i)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(i)&&i!=="transparent"){var L;(L=u.value)!==null&&L!==void 0&&L.nonce&&(c.nonce=u.value.nonce),s.style.borderColor=i,c.innerHTML=`
        [`.concat(v.value,"-click-animating-without-extra-node='true']::after, .").concat(v.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat(i,`;
        }`),document.body.contains(c)||document.body.appendChild(c)}E&&t.appendChild(s),g.addStartEventListener(t,M),g.addEndEventListener(t,C)}},k=function(t){if(!(!t||t===s||!(t instanceof Element))){var i=n.insertExtraNode,E=z();t.setAttribute(E,"false"),c&&(c.innerHTML=""),i&&s&&t.contains(s)&&t.removeChild(s),g.removeStartEventListener(t,M),g.removeEndEventListener(t,C)}},D=function(t){if(!(!t||!t.getAttribute||t.getAttribute("disabled")||t.className.indexOf("disabled")>=0)){var i=function(T){if(!(T.target.tagName==="INPUT"||j(T.target))){k(t);var b=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");x=setTimeout(function(){return B(t,b)},0),O.cancel(y),S=!0,y=O(function(){S=!1},10)}};return t.addEventListener("click",i,!0),{cancel:function(){t.removeEventListener("click",i,!0)}}}};return U(function(){V(function(){var o=W(m);o.nodeType===1&&(A=D(o))})}),R(function(){A&&A.cancel(),clearTimeout(x),w=!0}),function(){var o;return(o=r.default)===null||o===void 0?void 0:o.call(r)[0]}}});export{X as W};
