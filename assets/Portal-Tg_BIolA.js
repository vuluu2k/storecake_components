import{i as v,f,p as d,e as m,M as C,w as h,u as x,J as R,k as T,E,T as j}from"./iframe-Cw8ULQMx.js";import{P as w}from"./useConfigInject-D316VgYr.js";var P=!1;try{var c=Object.defineProperty({},"passive",{get:function(){P=!0}});window.addEventListener("testPassive",null,c),window.removeEventListener("testPassive",null,c)}catch{}function K(n,e,o,t){if(n&&n.addEventListener){var a=t;a===void 0&&P&&(e==="touchstart"||e==="touchmove"||e==="wheel")&&(a={passive:!1}),n.addEventListener(e,o,a)}return{remove:function(){n&&n.removeEventListener&&n.removeEventListener(e,o)}}}function S(n,e){return n?n.contains(e):!1}var g=Symbol("TriggerContextKey"),D=function(){var e=null;return d(g,{setPortal:function(t){e=t},popPortal:!0}),function(){return e}},M=function(e){return e?v(g,{setPortal:function(){},popPortal:!1}):{setPortal:function(){},popPortal:!1}},p=Symbol("PortalContextKey"),y=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};d(p,{inTriggerContext:o.inTriggerContext,shouldRender:f(function(){var t=e||{},a=t.sPopupVisible,r=t.popupRef,l=t.forceRender,i=t.autoDestroy,s=!1;return(a||r||l)&&(s=!0),!a&&i&&(s=!1),s})})},L=function(){y({},{inTriggerContext:!1});var e=v(p,{shouldRender:f(function(){return!1}),inTriggerContext:!1});return{shouldRender:f(function(){return e.shouldRender.value||e.inTriggerContext===!1})}};const N=m({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:w.func.isRequired,didUpdate:Function},setup:function(e,o){var t=o.slots,a=!0,r,l=L(),i=l.shouldRender;C(function(){a=!1,i.value&&(r=e.getContainer())});var s=h(i,function(){i.value&&!r&&(r=e.getContainer()),r&&s()});return x(function(){R(function(){if(i.value){var u;(u=e.didUpdate)===null||u===void 0||u.call(e,e)}})}),T(function(){r&&r.parentNode&&r.parentNode.removeChild(r)}),function(){if(!i.value)return null;if(a){var u;return(u=t.default)===null||u===void 0?void 0:u.call(t)}return r?E(j,{to:r},t):null}}});export{N as P,K as a,D as b,S as c,M as d,P as s,y as u};
