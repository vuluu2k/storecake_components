import{c as y,m as h,o as M}from"./iframe-DC2Z_nKe.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const d="https://content.pancake.vn",g="web-media",l={"web-media":"1",web_content:"1.1","user-content.pancake.vn":"2","user-content-23.pancake.vn":"2-23"},z=({link:e="",width:n=300,height:t=300,keep_resolution:f=!1})=>{try{if(!e||typeof e!="string")return{};const c=n,a=t,i=f?"fwebp0":"fwebp",m=Math.ceil(Math.max(a,c/n*t)),b=Math.ceil(Math.max(c,a/t*n));let r,s=g;if(e.includes("web-media")&&(s="web-media"),e.includes("web_content")&&(s="web_content"),e.includes("user-content.pancake.vn")&&(s="user-content.pancake.vn"),e.includes("user-content-23.pancake.vn")&&(s="user-content-23.pancake.vn"),r=e.split(s),e.includes("ANIM"))return{cdn:e};if(r.length===2){if(/\.gif$/.test(e))return{cdn:`${d}/${l[s]}/dlc${r[1]}`};const[$]=r[1].split(".").reverse().map(p=>(p||"").toLowerCase());if(["png","jpg","jpeg","webp","jfif"].includes($)){const p=`${d}/${l[s]}/s${b}x${m}${r[1]}`,u=`${d}/${l[s]}/s${b}x${m}/${i}${r[1]}`;return{cdn:p,webp:u}}}return r.length===1&&e.includes("https://content.pancake.vn")?{webp:e.replace(/(https:\/\/content.pancake.vn\/[12](\.[0-9])?(-[0-9]{2})?\/)(.+)/,($,p,u,w,v)=>`${p}s${c}x${a}/${i}/${v}`)}:{cdn:e}}catch(c){console.error("[ERROR_RESIZE_LINK_FIXED]",c)}},N=(e="",n=300,t=300,f=!1)=>{if(!e||typeof e!="string")return{};(n==0||!isFinite(n))&&(n=300),(t==0||!isFinite(t))&&(t=300),n=Math.ceil(n/50)*50,t=Math.ceil(t/50)*50;const c=n<500&&t<500?600:0,a=c?n+c:n*3,i=c?t+c:t*3,m=f?"fwebp0":"fwebp",b=Math.ceil(Math.max(i,a/n*t)),r=Math.ceil(Math.max(a,i/t*n));let s,o=g;if(e.includes("web-media")&&(o="web-media"),e.includes("web_content")&&(o="web_content"),e.includes("user-content.pancake.vn")&&(o="user-content.pancake.vn"),e.includes("user-content-23.pancake.vn")&&(o="user-content-23.pancake.vn"),s=e.split(o),e.includes("ANIM"))return{cdn:e};if(s.length===2){if(/\.gif$/.test(e))return{cdn:`${d}/${l[o]}/dlc${s[1]}`};const[p]=s[1].split(".").reverse().map(u=>(u||"").toLowerCase());if(["png","jpg","jpeg","webp","jfif"].includes(p)){const u=`${d}/${l[o]}/s${r}x${b}${s[1]}`,w=`${d}/${l[o]}/s${r}x${b}/${m}${s[1]}`;return{cdn:u,webp:w}}}return s.length===1&&e.includes("https://content.pancake.vn")?{webp:e.replace(/(https:\/\/content.pancake.vn\/[12](\.[0-9])?(-[0-9]{2})?\/)(.+)/,(p,u,w,v,_)=>`${u}s${a}x${i}/${m}/${_}`)}:{cdn:e}},S=({url:e,width:n=300,height:t=300,keep_resolution:f=!1,fixedSize:c=!1})=>{const{webp:a,cdn:i}=c?z({link:e,width:n,height:t,keep_resolution:f}):N(e,n,t,f);return a||i||e},x={props:{src:{type:String,required:!0},alt:{type:String,default:""},width:{type:Number,default:void 0},height:{type:Number,default:void 0},compressedType:{type:String,default:"webp",validator:e=>["webp","webp0"].includes(e)},fixedSize:{type:Boolean,default:!1}},setup(){return{}},computed:{srcPreview(){return S({url:this.src,width:this.width,height:this.height,keep_resolution:this.compressedType=="webp0",fixedSize:this.fixedSize})||"https://content.pancake.vn/1/s752x752/fwebp/54/69/e4/13/d02869f068e9b7c043efc7c551d2042a678a104b32495639f71c33a1.png"}}},E=["src","alt","width","height"];function F(e,n,t,f,c,a){return M(),y("img",h(e.$attrs,{src:a.srcPreview,alt:t.alt,width:t.width,height:t.height}),null,16,E)}const T=I(x,[["render",F]]);x.__docgenInfo={exportName:"default",displayName:"Image",description:"",tags:{},props:[{name:"src",type:{name:"string"},required:!0},{name:"alt",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"width",type:{name:"number"},defaultValue:{func:!1,value:"undefined"}},{name:"height",type:{name:"number"},defaultValue:{func:!1,value:"undefined"}},{name:"compressedType",type:{name:"string"},defaultValue:{func:!1,value:"'webp'"},values:["webp","webp0"]},{name:"fixedSize",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/storecake_components/storecake_components/src/components/Image.vue"]};export{T as I};
