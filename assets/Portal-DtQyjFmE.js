import{l as v,k as f,s as d,j as m,M as C,x as h,A as x,L as R,q as T,f as j,T as E}from"./iframe-DC2Z_nKe.js";import{P as L}from"./useConfigInject-DzPqp462.js";var P=!1;try{var c=Object.defineProperty({},"passive",{get:function(){P=!0}});window.addEventListener("testPassive",null,c),window.removeEventListener("testPassive",null,c)}catch{}function K(n,e,o,t){if(n&&n.addEventListener){var a=t;a===void 0&&P&&(e==="touchstart"||e==="touchmove"||e==="wheel")&&(a={passive:!1}),n.addEventListener(e,o,a)}return{remove:function(){n&&n.removeEventListener&&n.removeEventListener(e,o)}}}function S(n,e){return n?n.contains(e):!1}var g=Symbol("TriggerContextKey"),D=function(){var e=null;return d(g,{setPortal:function(t){e=t},popPortal:!0}),function(){return e}},M=function(e){return e?v(g,{setPortal:function(){},popPortal:!1}):{setPortal:function(){},popPortal:!1}},p=Symbol("PortalContextKey"),y=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};d(p,{inTriggerContext:o.inTriggerContext,shouldRender:f(function(){var t=e||{},a=t.sPopupVisible,r=t.popupRef,l=t.forceRender,i=t.autoDestroy,u=!1;return(a||r||l)&&(u=!0),!a&&i&&(u=!1),u})})},w=function(){y({},{inTriggerContext:!1});var e=v(p,{shouldRender:f(function(){return!1}),inTriggerContext:!1});return{shouldRender:f(function(){return e.shouldRender.value||e.inTriggerContext===!1})}};const N=m({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:L.func.isRequired,didUpdate:Function},setup:function(e,o){var t=o.slots,a=!0,r,l=w(),i=l.shouldRender;C(function(){a=!1,i.value&&(r=e.getContainer())});var u=h(i,function(){i.value&&!r&&(r=e.getContainer()),r&&u()});return x(function(){R(function(){if(i.value){var s;(s=e.didUpdate)===null||s===void 0||s.call(e,e)}})}),T(function(){r&&r.parentNode&&r.parentNode.removeChild(r)}),function(){if(!i.value)return null;if(a){var s;return(s=t.default)===null||s===void 0?void 0:s.call(t)}return r?j(E,{to:r},t):null}}});export{N as P,K as a,D as b,S as c,M as d,P as s,y as u};
