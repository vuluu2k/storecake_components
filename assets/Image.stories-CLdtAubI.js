import{a as _,m as I,o as S}from"./iframe-DnLBOwYr.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const d="https://content.pancake.vn",y="web-media",l={"web-media":"1",web_content:"1.1","user-content.pancake.vn":"2","user-content-23.pancake.vn":"2-23"},M=({link:e="",width:n=300,height:t=300,keep_resolution:u=!1})=>{try{if(!e||typeof e!="string")return{};const c=n,a=t,f=u?"fwebp0":"fwebp",m=Math.ceil(Math.max(a,c/n*t)),b=Math.ceil(Math.max(c,a/t*n));let r,s=y;if(e.includes("web-media")&&(s="web-media"),e.includes("web_content")&&(s="web_content"),e.includes("user-content.pancake.vn")&&(s="user-content.pancake.vn"),e.includes("user-content-23.pancake.vn")&&(s="user-content-23.pancake.vn"),r=e.split(s),e.includes("ANIM"))return{cdn:e};if(r.length===2){if(/\.gif$/.test(e))return{cdn:`${d}/${l[s]}/dlc${r[1]}`};const[g]=r[1].split(".").reverse().map(p=>(p||"").toLowerCase());if(["png","jpg","jpeg","webp","jfif"].includes(g)){const p=`${d}/${l[s]}/s${b}x${m}${r[1]}`,i=`${d}/${l[s]}/s${b}x${m}/${f}${r[1]}`;return{cdn:p,webp:i}}}return r.length===1&&e.includes("https://content.pancake.vn")?{webp:e.replace(/(https:\/\/content.pancake.vn\/[12](\.[0-9])?(-[0-9]{2})?\/)(.+)/,(g,p,i,$,x)=>`${p}s${c}x${a}/${f}/${x}`)}:{cdn:e}}catch(c){console.error("[ERROR_RESIZE_LINK_FIXED]",c)}},P=(e="",n=300,t=300,u=!1)=>{if(!e||typeof e!="string")return{};(n==0||!isFinite(n))&&(n=300),(t==0||!isFinite(t))&&(t=300),n=Math.ceil(n/50)*50,t=Math.ceil(t/50)*50;const c=n<500&&t<500?600:0,a=c?n+c:n*3,f=c?t+c:t*3,m=u?"fwebp0":"fwebp",b=Math.ceil(Math.max(f,a/n*t)),r=Math.ceil(Math.max(a,f/t*n));let s,o=y;if(e.includes("web-media")&&(o="web-media"),e.includes("web_content")&&(o="web_content"),e.includes("user-content.pancake.vn")&&(o="user-content.pancake.vn"),e.includes("user-content-23.pancake.vn")&&(o="user-content-23.pancake.vn"),s=e.split(o),e.includes("ANIM"))return{cdn:e};if(s.length===2){if(/\.gif$/.test(e))return{cdn:`${d}/${l[o]}/dlc${s[1]}`};const[p]=s[1].split(".").reverse().map(i=>(i||"").toLowerCase());if(["png","jpg","jpeg","webp","jfif"].includes(p)){const i=`${d}/${l[o]}/s${r}x${b}${s[1]}`,$=`${d}/${l[o]}/s${r}x${b}/${m}${s[1]}`;return{cdn:i,webp:$}}}return s.length===1&&e.includes("https://content.pancake.vn")?{webp:e.replace(/(https:\/\/content.pancake.vn\/[12](\.[0-9])?(-[0-9]{2})?\/)(.+)/,(p,i,$,x,h)=>`${i}s${a}x${f}/${m}/${h}`)}:{cdn:e}},T=({url:e,width:n=300,height:t=300,keep_resolution:u=!1,fixedSize:c=!1})=>{const{webp:a,cdn:f}=c?M({link:e,width:n,height:t,keep_resolution:u}):P(e,n,t,u);return a||f||e},v={props:{src:{type:String,required:!0},alt:{type:String,default:""},width:{type:Number,default:void 0},height:{type:Number,default:void 0},compressedType:{type:String,default:"webp",validator:e=>["webp","webp0"].includes(e)},fixedSize:{type:Boolean,default:!1}},setup(){return{}},computed:{srcPreview(){return T({url:this.src,width:this.width,height:this.height,keep_resolution:this.compressedType=="webp0",fixedSize:this.fixedSize})||"https://content.pancake.vn/1/s752x752/fwebp/54/69/e4/13/d02869f068e9b7c043efc7c551d2042a678a104b32495639f71c33a1.png"}}},N=["src","alt","width","height"];function E(e,n,t,u,c,a){return S(),_("img",I(e.$attrs,{src:a.srcPreview,alt:t.alt,width:t.width,height:t.height}),null,16,N)}const F=z(v,[["render",E]]);v.__docgenInfo={exportName:"default",displayName:"Image",description:"",tags:{},props:[{name:"src",type:{name:"string"},required:!0},{name:"alt",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"width",type:{name:"number"},defaultValue:{func:!1,value:"undefined"}},{name:"height",type:{name:"number"},defaultValue:{func:!1,value:"undefined"}},{name:"compressedType",type:{name:"string"},defaultValue:{func:!1,value:"'webp'"},values:["webp","webp0"]},{name:"fixedSize",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/storecake_components/storecake_components/src/components/Image.vue"]};const C={title:"Auto/Image",component:F,tags:["autodocs"],argTypes:{src:{control:"text",description:"Property src of the Image"},alt:{control:"text",description:"Property alt of the Image"},width:{control:"number",description:"Property width of the Image"},height:{control:"number",description:"Property height of the Image"},compressedType:{control:"select",options:["webp","webp0"],description:"Property compressedType of the Image"},fixedSize:{control:"boolean",description:"Property fixedSize of the Image"}},args:{alt:"",compressedType:"webp",fixedSize:!1}},w={args:{alt:"",compressedType:"webp",fixedSize:!1}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  args: {
    alt: '',
    compressedType: 'webp',
    fixedSize: false
  }
}`,...w.parameters?.docs?.source}}};const G=["Default"];export{w as Default,G as __namedExportsOrder,C as default};
